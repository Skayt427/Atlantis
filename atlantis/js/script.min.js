document.addEventListener("DOMContentLoaded",(function(){let e=document.querySelector("body");new Swiper(".js-slider-banner-content",{slidesPerView:1,loop:!0,navigation:{prevEl:".js-banner__btn_prev",nextEl:".js-banner__btn_next"}}),new Swiper(".js-slider-banner-bg",{slidesPerView:1,loop:!0,navigation:{prevEl:".js-banner__btn_prev",nextEl:".js-banner__btn_next"}}),new Swiper(".detail-slider",{slidesPerView:1,loop:!0,autoplay:{delay:3e3}});let t=document.querySelectorAll(".js-scroll-trigger");t.length&&t.forEach(e=>{e.addEventListener("click",(function(){let e=this.dataset.scroll;document.querySelector('.js-scroll-item[data-scroll="'+e+'"]').scrollIntoView({behavior:"smooth",block:"start"})}))});let r=document.querySelectorAll(".js-info-item");r.length&&r.forEach(e=>{let t=e.closest(".info");e.addEventListener("mouseover",(function(){t.classList.add("hover")})),e.addEventListener("mouseout",(function(){t.classList.remove("hover")}))});let n=document.querySelectorAll(".js-toggle-btn");n.length&&n.forEach(e=>{let t=e.closest(".js-toggle-container"),r=t.querySelector(".js-toggle-dropdown"),n=r.offsetHeight;r.style.height=0,e.addEventListener("click",(function(){let e=document.querySelector(".js-toggle-container.active");e&&(e.classList.remove("active"),e.querySelector(".js-toggle-dropdown").style.height=0),e!=t&&t.classList.add("active");let o=r.offsetHeight;r.style.height=0==o?n+"px":0})),window.addEventListener("resize",(function(){document.querySelector(".js-toggle-container.active")&&document.querySelector(".js-toggle-container.active").classList.remove("active"),r.style.height="",n=r.offsetHeight,r.style.height=0}))});let o=document.querySelectorAll('input[type="tel"]');o.length&&o.forEach(e=>{new Inputmask("+7(999)999-99-99").mask(e)});let i=document.querySelectorAll(".js-modal-trigger");if(i.length>=1){i.forEach(t=>{t.addEventListener("click",(function(){let t=this.dataset.modal,r=document.querySelector('.js-modal[data-modal="'+t+'"]');r.classList.add("active"),e.classList.add("noscroll");let n=r.querySelector(".modal__container");function o(){let e=parseInt(getComputedStyle(r).getPropertyValue("padding-top")),t=parseInt(getComputedStyle(r).getPropertyValue("padding-bottom")),o=r.offsetHeight-e-t;if(o>n.offsetHeight){let e=o-n.offsetHeight;n.style.top=e/2+"px"}}o(),window.addEventListener("resize",o)}))}),document.querySelectorAll(".js-modal").forEach(t=>{t.querySelector(".js-modal-close").addEventListener("click",(function(){this.closest(".js-modal").classList.remove("active"),e.classList.remove("noscroll")})),t.querySelector(".js-modal-bg").addEventListener("click",(function(){this.closest(".js-modal").classList.remove("active"),e.classList.remove("noscroll")}))})}let s=document.querySelectorAll(".pin__input");s&&s.forEach(e=>{let t=[],r=e.closest(".pin");function n(e,t){0!=t.length?e.querySelector(".pin__attach").style.display="none":e.querySelector(".pin__attach").style.display="block"}function o(e,t){const r=e.querySelector(".submit-files"),n=new DataTransfer;t.forEach(e=>{n.items.add(e)}),r.files=n.files}e.addEventListener("click",e=>{e.target.value=""}),e.addEventListener("change",e=>{let i=e.target.files;Array.from(i).forEach(e=>{t.find(t=>t.name===e.name)||t.push(e)}),function(e,r){let i=r.querySelector(".pin__file-list");i.innerHTML="",n(r,t);for(let l=0;l<e.length;l++){let a=document.createElement("span");a.classList.add("pin__file"),a.innerHTML=e[l].name;let g=document.createElement("button");function s(i){i.preventDefault();let a=this.closest(".pin__file");t=t.filter(t=>t.name!==e[l].name),a.remove(),n(r,t),o(r,t),g.removeEventListener("click",s)}g.setAttribute("type","button"),g.classList.add("pin__file-remove-button"),g.insertAdjacentHTML("beforeend",'\n                  <svg class="pin__file-remove" fill="#000000" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="20px" height="20px">\n                      <path d="M 9.15625 6.3125 L 6.3125 9.15625 L 22.15625 25 L 6.21875 40.96875 L 9.03125 43.78125 L 25 27.84375 L 40.9375 43.78125 L 43.78125 40.9375 L 27.84375 25 L 43.6875 9.15625 L 40.84375 6.3125 L 25 22.15625 Z"/>\n                  </svg>\n              '),g.addEventListener("click",s),a.append(g),i.append(a)}o(r,t)}(t,r)})}),gsap.registerPlugin(ScrollTrigger),window.innerWidth>=760&&gsap.from(".anim-opacity",{scrollTrigger:{trigger:".anim-opacity",toggleActions:"play pause resume none"},duration:.5,delay:.5,opacity:0}),gsap.from(".swiper-slide-active .anim-banner-title",{scrollTrigger:{trigger:".banner",toggleActions:"play pause resume none"},duration:1,x:-2e3}),gsap.from(".anim-banner-subtitle",{scrollTrigger:{trigger:".banner",toggleActions:"play pause resume none"},duration:1,x:-2e3}),gsap.from(".anim-banner-translate",{scrollTrigger:{trigger:".banner",toggleActions:"play pause resume none"},duration:1,y:300,opacity:0}),gsap.from(".anim-banner-prev",{scrollTrigger:{trigger:".banner",toggleActions:"play pause resume none"},duration:1,x:50,opacity:0}),gsap.from(".anim-banner-next",{scrollTrigger:{trigger:".banner",toggleActions:"play pause resume none"},duration:1,x:-50,opacity:0}),gsap.from(".anim-info-bg",{scrollTrigger:{trigger:".anim-info-bg",toggleActions:"play pause resume none"},duration:4,backgroundSize:"120%"}),gsap.from(".anim-info__title",{scrollTrigger:{trigger:".anim-info__title",toggleActions:"play pause resume none"},duration:1,delay:.5,opacity:0}),gsap.from(".anim-history-line",{scrollTrigger:{trigger:".history",toggleActions:"play pause resume none",start:"center bottom"},duration:1,x:-2e3}),gsap.from(".anim-history-img",{scrollTrigger:{trigger:".history",toggleActions:"play pause resume none",start:"center bottom"},duration:1,clipPath:"inset(0 100% 0 0)"}),gsap.from(".anim-history-text",{scrollTrigger:{trigger:".history",toggleActions:"play pause resume none",start:"center bottom"},duration:1,y:100,opacity:0}),gsap.from(".anim-centered-blur-bg-wrap",{scrollTrigger:{trigger:".centered_one",toggleActions:"play pause resume none"},duration:1,clipPath:"inset(0 50% 0 50%)"}),gsap.from(".anim-centered-blur-bg",{scrollTrigger:{trigger:".centered_one",toggleActions:"play pause resume none"},duration:1,delay:2,filter:"blur(40px)"}),gsap.from(".anim-centered-left",{scrollTrigger:{trigger:".centered_one",toggleActions:"play pause resume none"},duration:1,x:-2e3}),gsap.from(".anim-centered-left-delay",{scrollTrigger:{trigger:".centered_one",toggleActions:"play pause resume none"},duration:1,delay:1,x:-2e3}),gsap.from(".anim-centered-top",{scrollTrigger:{trigger:".centered_one",toggleActions:"play pause resume none"},duration:1,delay:.5,y:100,opacity:0});let l=document.querySelectorAll(".anim-statistics-img");l.length&&window.innerWidth>=760&&l.forEach(e=>{let t=e.closest(".anim-statistics-item"),r=t.querySelector(".anim-statistics-title-left"),n=t.querySelector(".anim-statistics-title-right"),o=t.querySelector(".anim-statistics-description");r&&gsap.from(r,{scrollTrigger:{trigger:t,toggleActions:"play pause resume none"},duration:1,x:-2e3}),n&&gsap.from(n,{scrollTrigger:{trigger:t,toggleActions:"play pause resume none"},duration:1,x:2e3}),gsap.from(o,{scrollTrigger:{trigger:t,toggleActions:"play pause resume none"},duration:1,delay:.5,opacity:0,y:100}),gsap.to(e,{scrollTrigger:{trigger:t,toggleActions:"play pause resume none"},duration:1,width:"50%"})}),gsap.from(".anim-blur-bg-wrap",{scrollTrigger:{trigger:".centered_two",toggleActions:"play pause resume none"},duration:1,clipPath:"inset(0 50% 0 50%)"}),gsap.from(".anim-blur-bg",{scrollTrigger:{trigger:".centered_two",toggleActions:"play pause resume none"},duration:1,delay:2,filter:"blur(40px)"}),gsap.from(".anim-centered-title",{scrollTrigger:{trigger:".centered_two",toggleActions:"play pause resume none"},duration:1,delay:.5,x:-2e3}),gsap.from(".anim-centered-opacity",{scrollTrigger:{trigger:".centered_two",toggleActions:"play pause resume none"},duration:1,delay:1,opacity:0}),gsap.from(".anim-companions-title",{scrollTrigger:{trigger:".companions",toggleActions:"play pause resume none"},duration:1,x:-2e3}),gsap.from(".anim-companions-img",{scrollTrigger:{trigger:".companions",toggleActions:"play pause resume none"},duration:1,delay:.5,opacity:0}),gsap.from(".anim-contacts-item",{scrollTrigger:{trigger:".contacts",toggleActions:"play pause resume none"},duration:1,x:-2e3,stagger:.2}),gsap.from(".anim-map-title",{scrollTrigger:{trigger:".map",toggleActions:"play pause resume none"},duration:1,x:-2e3}),gsap.from(".anim-map-btn",{scrollTrigger:{trigger:".map",toggleActions:"play pause resume none"},duration:1,y:150,opacity:0})}));